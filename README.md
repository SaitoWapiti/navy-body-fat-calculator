# 海軍方式/海兵隊方式 体脂肪率判定サイト

BMIだけでは判定しづらい筋肉質体型などに配慮し、**Navy Method（テープ法）**で推定した体脂肪率に基づいて、**米海軍（Navy）／海兵隊（Marines）**の基準に沿った合否判定を提供するWebアプリケーションです。

## 特徴

- 🏋️ **筋肉質体型に対応**: BMI以外の体組成評価
- ⚓ **公式基準準拠**: 米海軍・海兵隊の基準に基づく判定
- 📐 **正確な測定法**: SVG図解による測定ガイド
- 🌐 **多言語対応**: 単位切替（cm/in、kg/lb）
- 🔒 **プライバシー重視**: ローカル処理、サーバー送信なし
- 📱 **完全レスポンシブ**: スマートフォン・タブレット・デスクトップ対応
- 📲 **PWA対応**: モバイルアプリのような体験
- 👆 **タッチ最適化**: タッチデバイス向けUI改善

## 使用方法

1. **測定値入力**
   - 性別、年齢、身長、首囲、腹囲を入力
   - 女性の場合はヒップ囲も必要
   - 体重は任意（BMI計算用）

2. **単位選択**
   - cm/in、kg/lb の切替が可能
   - 既存値は自動換算されます

3. **計算実行**
   - 「計算」ボタンで体脂肪率を算出
   - Navy/Marines両基準での合否判定

4. **結果確認**
   - 推定体脂肪率の表示
   - 各基準での合否とマージン
   - 基準表での該当箇所ハイライト

5. **結果の共有**
   - URLでの共有（体脂肪率のみ/全データ）
   - Xへの直接投稿機能
   - プライバシーに配慮した共有オプション

## 計算式

### 男性
```
体脂肪率(%) = 86.010 * log10(腹囲 - 首囲) - 70.041 * log10(身長) + 36.76
```

### 女性  
```
体脂肪率(%) = 163.205 * log10(腹囲 + ヒップ囲 - 首囲) - 97.684 * log10(身長) - 78.387
```

※ 単位はインチ（in）で統一して計算

## 判定基準

### 海軍（Navy）基準
| 性別 | 年齢 | 上限体脂肪率 |
|------|------|-------------|
| 男性 | 17-39歳 | 26% |
| 男性 | 40-60歳 | 28% |
| 女性 | 17-39歳 | 36% |
| 女性 | 40-60歳 | 38% |

### 海兵隊（Marines）基準
| 性別 | 年齢 | 上限体脂肪率 |
|------|------|-------------|
| 男性 | 17-25歳 | 18% |
| 男性 | 26-40歳 | 20% |
| 女性 | 17-25歳 | 26% |
| 女性 | 26-40歳 | 28% |

## ファイル構成

```
BMI/
├── index.html           # メインページ
├── styles.css          # スタイルシート
├── app.js              # JavaScript メインロジック
├── data/
│   └── standards.json  # 判定基準データ
├── tests/
│   └── test-vectors.json  # テストケース
└── README.md           # このファイル
```

## デプロイ方法

### GitHub Pages での公開

1. GitHubリポジトリを作成
2. ファイルをアップロード
3. Settings > Pages で公開設定
4. `Deploy from a branch` > `main` > `/root` を選択

### ローカル実行

静的ファイルなので、Webサーバーで直接実行可能：

```bash
# Python 3
python -m http.server 8000

# Node.js (http-server)
npx http-server

# VS Code Live Server拡張機能
```

## 注意事項

- 本ツールは**参考値の提供のみ**を目的とします
- 医療的助言や公式判定の代替ではありません  
- 測定方法により結果が大きく変わる可能性があります
- 年齢範囲外（17歳未満、60歳超）は参考表示となります

## 測定のポイント

### 首囲
- 喉仏の下、最も細い部分
- メジャーは水平に、軽く肌に触れる程度

### 腹囲  
- へその高さで測定
- 自然な呼気終末（息を軽く吐いた状態）

### ヒップ囲（女性）
- 臀部の最も大きい部分
- 横から見て最も突出した位置

## X（Twitter）共有機能

### 共有オプション
1. **結果のみ共有**: 体脂肪率と判定結果のみを投稿
2. **詳細データ共有**: 入力値を含む完全な結果を投稿

### 投稿内容
- 📊 推定体脂肪率とレベル判定
- 🇺🇸 海軍基準の合否
- 🎖️ 海兵隊基準の合否
- 💪 体脂肪率レベルの説明
- 🔗 詳細結果へのリンク
- #️⃣ 関連ハッシュタグ

### プライバシー配慮
- 投稿前にプレビュー機能で内容確認
- 体脂肪率のみの共有オプション
- 個人を特定できる詳細データは任意

## モバイル・タブレット対応

### レスポンシブデザイン
- **📱 スマートフォン** (〜480px): 縦型レイアウト、大きなタッチターゲット
- **📋 タブレット** (481px〜768px): 適応的グリッドレイアウト
- **💻 デスクトップ** (769px〜): フル機能の2カラムレイアウト

### モバイル最適化機能
- ✅ **タッチ操作**: 48px以上のタッチターゲット
- ✅ **数値入力**: モバイルキーボード最適化
- ✅ **画面回転**: 自動レイアウト調整
- ✅ **Web Share API**: ネイティブ共有機能
- ✅ **PWA対応**: ホーム画面追加可能
- ✅ **オフライン**: 基本機能はオフラインで動作

### PWA（Progressive Web App）機能
- ホーム画面に追加してアプリのように使用可能
- オフライン時でも基本計算機能が利用可能
- プッシュ通知（将来実装予定）
- バックグラウンド同期（将来実装予定）

## 技術仕様

- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **レスポンシブ**: CSS Grid, Flexbox
- **アイコン**: Font Awesome 6.0
- **SNS連携**: X（Twitter）Web Intent API
- **ブラウザ**: モダンブラウザ（ES6+対応）

## ライセンス

MIT License

## 参考資料

- Navy Body Composition Assessment (BCA) Program
- Marines Body Composition Program (BCP)
- MCO 6110 系文書

---

**Version**: 1.1  
**Last Updated**: 2025-10-05  
**Author**: 設計書 v1.1 に基づく実装
